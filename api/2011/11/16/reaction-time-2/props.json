{
  "dateUnix": 1321470806000,
  "dateFormatted": "Wednesday 16 Nov 2011",
  "pageHeading": "Reaction Time (2)",
  "pagePath": "/2011/11/16/reaction-time-2/",
  "innerHTML": "<p>A few weeks ago I wrote <a href=\"http://dbushell.com/2011/10/25/reaction-time/\">Reaction Time</a> explaining the art of <strong>relative</strong> interactivity.</p>\n<p>Today I found another perfect example!</p>\n<p>I’m using a technique based on Ariel Flesler’s excellent <a href=\"http://flesler.blogspot.com/2007/10/jqueryscrollto.html\">jQuery scrollTo plugin</a>. The plugin scrolls the document until a specific element is in view. The set up: I have several tabs on my page that update content below them. I want to scroll to that content as a visual guide for users to indicate what has changed and to bring it center stage. It’s a fully responsive design so on small screens this interaction is very useful.</p>\n<p>The simplest jQuery implementation would look like this:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> target <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#target'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scrollTo</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> duration<span class=\"token punctuation\">:</span> <span class=\"token number\">500</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>That will do exactly what I want, once bound to a click event — why go any further?</p>\n<p>Because that’s going to suck.</p>\n<p>The <strong><code>.scrollTo();</code></strong> method takes a few options but the basic ones I care about are the <em>duration</em> (milliseconds) and an <em><a href=\"http://api.jquery.com/animate/#easing\">easing function</a> </em>(that “specifies the speed at which the animation progresses at different points within the animation”). I’ve chosen an <a href=\"http://gsgd.co.uk/sandbox/jquery/easing/\">ease-in-out function</a> that starts slowly and builds up pace before decelerating again, similar to how a car would travel from A–B providing there are no barriers. I assume, I don’t drive so my car analogies are a bit flaky. Just trust me, this easing effect adds a touch of class.</p>\n<p>That constant 500 millisecond duration is lazy and unresponsive. The distance I need to scroll is never constant, it depends on where the user has previously scrolled to (prior to clicking a tab). The shorter the distance the quicker we should arrive at the destination.</p>\n<p>Here’s a generic evolution of my JavaScript:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> target <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#target'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* get the document height and window height */</span>\n<span class=\"token keyword\">var</span> doc_height <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">height</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> win_height <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">innerHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* bail if the whole document is visible */</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>doc_height <span class=\"token operator\">&lt;=</span> win_height<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* get the current scroll offset and target offset */</span>\n<span class=\"token keyword\">var</span> offset <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scrollTop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> target_offset <span class=\"token operator\">=</span> target<span class=\"token punctuation\">.</span><span class=\"token function\">offset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* calculate a positive distance between the offsets */</span>\n<span class=\"token keyword\">var</span> distance <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>offset <span class=\"token operator\">-</span> target_offset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* if we are scrolling down and can go no further... */</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>offset <span class=\"token operator\">&lt;</span> target_offset<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> max_offset <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>doc_height <span class=\"token operator\">-</span> win_height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target_offset <span class=\"token operator\">></span> max_offset<span class=\"token punctuation\">)</span>\n        distance <span class=\"token operator\">-=</span> target_offset <span class=\"token operator\">-</span> max_offset<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* if there is a need to scroll, wait for updates before doing so */</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>distance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html:not(:animated),body:not(:animated)'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">{</span> scrollTop<span class=\"token punctuation\">:</span> target_offset <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            distance <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'easeInOutQuint'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>The <code>setTimeout</code> delay is purely for my benefit because other actions need to happen before scrolling is initiated. The magic number <strong><code>2</code></strong> is simply a multiplier to slow things down. What’s important is that the animation always starting with a duration <em>relative</em> to the distance.</p>\n<p>You may ask: <strong>“What’s the point, do people really notice such subtleties?”</strong></p>\n<p><strong>**To which I would reply: </strong>“No, but they will notice if they’re missing.”**</p>\n<p>It’s this sort of care that I believe produces the best possible experience for all devices. Interactivity should aid the user in a way that they’re not even conscious is happening — it should <em>just work</em>. A lot of JavaScript I see on the web today is a massive distraction. I hope this post illustrates the effort needed in interactive design.</p>\n",
  "pageExcerpt": "A few weeks ago I wrote Reaction Time explaining the art of relative interactivity.\nToday I found another perfect example!\nI’m using a technique based on Ariel Flesler’s excellent jQuery scrollTo plugin. The plugin scrolls the document until a specific element is in view. The set up: I have several tabs on my page that update content […]",
  "pageTitle": "Reaction Time (2) – David Bushell – Web Design (UK)"
}