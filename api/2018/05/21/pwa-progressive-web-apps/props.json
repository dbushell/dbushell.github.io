{
  "dateUnix": 1526896800000,
  "dateFormatted": "Monday 21 May 2018",
  "pageHeading": "PWA: Progressive Web Apps",
  "pagePath": "/2018/05/21/pwa-progressive-web-apps/",
  "innerHTML": "<p>This website – dbushell.com – or <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://dbushell.app\">dbushell.app</a> if you like redirects – is now a <strong>progressive web app!</strong></p>\n<p>What does that mean? Don’t let the fancy initialism deceive you. PWAs are websites first and foremost. But they can be installed like an app. What is meant by “app” depends on where it’s installed. As of writing it seems like OSes are still uncertain as to how PWAs are to be treated.</p>\n<p>For my website the “add to home screen” experience is just a vanity bookmark. Regardless, there are benefits to transforming your website into a PWA.</p>\n<h2 id=\"service-workers\">Service Workers</h2>\n<p><a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://abookapart.com/products/going-offline\">Going Offline</a> by Jeremy Keith is a great book. It’s my go-to recommendation if you want to understand the power of service workers and the offline experience.</p>\n<p><a href=\"/2017/04/06/the-magic-of-service-workers/\">Last spring</a> I dabbled with my own service worker and had a chance to discuss them with Jeremy at <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://alldayhey.com/\">All Day Hey!</a> Which incidentally feels like the last time I left the office. I need to get out more!</p>\n<p>I would advise writing your own service worker to understand the native APIs. I suspect, like me, you’ll find the abundance of Promises to be a little unwieldy. Using <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://developers.google.com/web/fundamentals/primers/async-functions\">async/await</a> can produce more readable code.</p>\n<p>Recently I’ve experimented with <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://developers.google.com/web/tools/workbox/\">Google’s Workbox</a> library. It provides abstractions for common caching strategies, amongst other tasks. It can be as simple as providing a URL (or regex pattern):</p>\n<pre><code class=\"language-javascript\">workbox<span class=\"token punctuation\">.</span><span class=\"token function\">routing</span><span class=\"token punctuation\">(</span>\n  <span class=\"token regex\">/\\.(gif|jpeg|jpg|png|svg)$/</span><span class=\"token punctuation\">,</span>\n  workbox<span class=\"token punctuation\">.</span>strategies<span class=\"token punctuation\">.</span><span class=\"token function\">cacheFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>In the example above all images with a matching file extension are fetched from the cache first if available, otherwise from the network (then cached).</p>\n<h3 id=\"🍻-👍-👍\">🍻 👍 👍</h3>\n<p>Workbox gets one <em>clinking beer mugs</em> and two <em>thumbs up</em> emojis from me. The basics are easy to handle and the native APIs are still there to combine with Workbox for more advanced concepts.</p>\n<h2 id=\"react-everywhere\">React Everywhere</h2>\n<p>PWAs don’t require anything special on the front-end but if it’s that true “app experience” we’re after page refreshes are <em>so uncool</em>.</p>\n<p>I’ve been using React to <a href=\"/2017/02/13/react-as-a-static-site-generator/\">generate my static site</a> for over a year now. This requires a bit more than just React (<a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/dbushell/dbushell.com\">see my GitHub repo</a>) but I can reuse most of the React code on the front-end. I added a second step to generate each page as JSON so they load even faster. React 16 introduced <code>hydrate()</code> which can efficiently take over server-rendered markup.</p>\n<p>I’m using the History API to maintain URLs and native browser navigation. I’ve also sprinkled in an experimental <code>IntersectionObserver</code> to <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://www.smashingmagazine.com/2018/01/deferring-lazy-loading-intersection-observer-api/\">lazy load images</a>.</p>\n<p><a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://developers.google.com/web/tools/lighthouse/\">Lighthouse</a> is another useful tool from Google.</p>\n<p class=\"b-post__image\"><img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjwvc3ZnPg==\" data-lazy=\"false\" data-src=\"/images/blog/2018/dbushell-app-lighthouse.png\" alt=\"Lighthouse report for dbushell.com\"></p>\n<p>The browser plugin will run an audit and report back in dizzying detail.</p>\n<p>Lighthouse isn’t easily impressed. I was seeing red lights for days whilst learning new optimisations. I could have sworn it was all green when I checked a few months ago. I suppose the web moves fast and new improvements are forever on the horizon. Ideally these things become second nature but crucial milliseconds can easily slip away if you’re not careful.</p>\n<h2 id=\"progressive-web\">Progressive Web</h2>\n<p>PWAs are really just an encapsulation of modern technologies and the same progressive web development practices that have long proved to build solid websites. For installation they do need an additional <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/Manifest\">Web Manifest</a> file. Because the number of existing standards to define icons and metadata wasn’t enough.</p>\n<p>If you need help optimising your website or PWA <a href=\"/contact/\">get in touch!</a></p>\n",
  "pageExcerpt": "This website – dbushell.com – or dbushell.app if you like redirects – is now a progressive web app!\nWhat does that mean? Don’t let the fancy initialism deceive you. PWAs are websites first and foremost. But they can be installed like an app. What is meant by “app” depends on where it’s installed. As of writing […]",
  "pageDesc": "dbushell.com – or dbushell.app if you like redirects – is now a progressive web app ✨",
  "pageTitle": "PWA: Progressive Web Apps – David Bushell – Web Design (UK)"
}